// Place your key bindings in this file to overwrite the defaults
[
    //------------------//
    // VS Code commands //
    //------------------//

    // file navigation
    {
        "key": "ctrl+n",
        "command": "workbench.action.quickOpenNavigateNextInFilePicker",
        "when": "inFilesPicker && inQuickOpen"
    },
    {
        "key": "ctrl+shift+n",
        "command": "workbench.action.quickOpenNavigatePreviousInFilePicker",
        "when": "inFilesPicker && inQuickOpen"
    },
    {
        "key": "ctrl+n",
        "command": "workbench.action.quickOpenNavigateNextInRecentFilesPicker",
        "when": "inRecentFilesPicker && inQuickOpen"
    },
    {
        "key": "ctrl+shift+n",
        "command": "workbench.action.quickOpenNavigatePreviousInRecentFilesPicker",
        "when": "inRecentFilesPicker && inQuickOpen"
    },
    
    // history keyboard navigation
    {
        "key": "ctrl+p",
        "command": "history.showPrevious",
        "when": "historyNavigationEnabled && historyNavigationWidget"
    },
    {
        "key": "ctrl+n",
        "command": "history.showNext",
        "when": "historyNavigationEnabled && historyNavigationWidget"
    },

    // notifications keyboard navigation
    {
        "key": "ctrl+p",
        "command": "notifications.focusPreviousToast",
        "when": "notificationFocus && notificationToastsVisible"
    },
    {
        "key": "ctrl+n",
        "command": "notifications.focusNextToast",
        "when": "notificationFocus && notificationToastsVisible"
    },

    // list keyboard navigation
    {
        "key": "ctrl+p",
        "command": "list.focusUp",
        "when": "listFocus"
    },
    {
        "key": "ctrl+n",
        "command": "list.focusDown",
        "when": "listFocus"
    },

    // widget keyboard navigation
    {
        "key": "ctrl+p",
        "command": "selectPrevSuggestion",
        "when": "suggestWidgetMultipleSuggestions && suggestWidgetVisible && textInputFocus"
    },
    {
        "key": "ctrl+n",
        "command": "selectNextSuggestion",
        "when": "suggestWidgetMultipleSuggestions && suggestWidgetVisible && textInputFocus"
    },

    // terminal keyboard navigation
    {
        "key": "ctrl+w",
        "command": "workbench.action.terminal.deleteWordLeft",
        "when": "terminalFocus"
    },
    {
        "key": "ctrl+p",
        "command": "cursorUp",
        "when": "terminalFocus"
    },
    {
        "key": "ctrl+f",
        "command": "cursorRight",
        "when": "terminalFocus"
    },

    // commands
    {
        "key": "ctrl+e",
        "command": "workbench.action.openRecent",
        "when": "!isMac"
    },
    {
        "key": "ctrl+g",
        "command": "-workbench.action.gotoLine"
    },
    {
        "key": "ctrl+g",
        "command": "gitlens.diffWithPrevious",
        "when": "editorTextFocus && !isInDiffEditor"
    },
    {
        "key": "ctrl+j",
        "command": "workbench.action.quickOpen",
        "when": "!isMac"
    },
    {
        "key": "ctrl+p",
        "command": "workbench.action.showCommands",
        "when": "!isMac"
    },

    // panels
    {
        "key": "ctrl+l",
        "command": "workbench.action.togglePanel",
        "when": "!isMac"
    },
    {
        "key": "ctrl+i",
        "command": "workbench.action.toggleMaximizedPanel",
        "when": "!isMac"
    },
    {
        "key": "ctrl+t",
        "command": "workbench.action.toggleSidebarVisibility",
        "when": "!isMac"
    },

    // navigate
    {
        "key": "ctrl+tab",
        "command": "workbench.action.navigateEditorGroups",
        "when": "editorFocus"
    },
    {
        "key": "ctrl+tab",
        "command": "workbench.action.focusLastEditorGroup",
        "when": "!editorFocus"
    },
    {
        "key": "ctrl+shift+tab",
        "command": "workbench.action.navigateEditorGroups",
        "when": "editorFocus"
    },
    {
        "key": "ctrl+shift+tab",
        "command": "workbench.action.focusLastEditorGroup",
        "when": "!editorFocus"
    },

    // vim
    {
        "key": "ctrl+a",
        "command": "cursorHome",
        "when": "editorTextFocus && vim.mode == 'Insert'"
    },
    {
        "key": "ctrl+b",
        "command": "cursorLeft",
        "when": "editorTextFocus && vim.mode == 'Insert'"
    },
    {
        "key": "ctrl+d",
        "command": "editor.action.triggerSuggest",
        "when": "editorTextFocus && !editorReadonly && vim.mode == 'Insert'"
    },
    {
        "key": "ctrl+e",
        "command": "cursorEnd",
        "when": "editorTextFocus && vim.mode == 'Insert'"
    },
    {
        "key": "ctrl+f",
        "command": "cursorRight",
        "when": "editorTextFocus && vim.mode == 'Insert'"
    },
    {
        "key": "ctrl+o",
        "command": "editor.action.triggerParameterHints",
        "when": "editorTextFocus && !editorReadonly && vim.mode == 'Insert'"
    },

    //-------------------//
    // Terminal commands //
    //-------------------//

    // common //

    // send ctrl-c
    {
        "key": "ctrl+m x",
        "command": "workbench.action.terminal.sendSequence",
        "args": {
            "text": "\u0003",
        },
        "when": "!isMac && editorTextFocus && vim.mode != 'Insert'"
    },

    // list all files
    {
        "key": "ctrl+m l",
        "command": "workbench.action.terminal.sendSequence",
        "args": {
            "text": "ls\r",
        },
        "when": "!isMac && editorTextFocus && vim.mode != 'Insert'"
    },

    // matlab macros //

    // add path of variable under cursor
    {
        "key": "ctrl+m a",
        "command": "macros.matlabSendAddpathAndWordNormal",
        "when": "!isMac && editorTextFocus && vim.mode != 'Insert' && resourceExtname == .m"
    },
    // add path of selected variable
    {
        "key": "ctrl+m a",
        "command": "macros.matlabSendAddpathAndWordVisual",
        "when": "!isMac && editorHasSelection && editorTextFocus && vim.mode != 'Insert' && resourceExtname == .m"
    },

    // add general path of variable under cursor
    {
        "key": "ctrl+m shift+a",
        "command": "macros.matlabSendGenpathAndWordNormal",
        "when": "!isMac && editorTextFocus && vim.mode != 'Insert' && resourceExtname == .m"
    },
    // add general path of selected variable
    {
        "key": "ctrl+m shift+a",
        "command": "macros.matlabSendGenpathAndWordVisual",
        "when": "!isMac && editorHasSelection && editorTextFocus && vim.mode != 'Insert' && resourceExtname == .m"
    },

    // breakpoint set
    {
        "key": "ctrl+m b",
        "command": "workbench.action.terminal.sendSequence",
        "args": {
            "text": "dbstop in ${fileBasename} at ${lineNumber}\r",
        },
        "when": "!isMac && editorTextFocus && vim.mode != 'Insert' && resourceExtname == .m"
    },
    // breakpoint set
    {
        "key": "ctrl+m b",
        "command": "workbench.action.terminal.sendSequence",
        "args": {
            "text": "dbstop in ${fileBasename} at ${lineNumber}\r",
        },
        "when": "!isMac && editorHasSelection && editorTextFocus && vim.mode != 'Insert' && resourceExtname == .m"
    },

    // breakpoint remove
    {
        "key": "ctrl+m shift+b",
        "command": "workbench.action.terminal.sendSequence",
        "args": {
            "text": "dbclear in ${fileBasename} at ${lineNumber}\r",
        },
        "when": "!isMac && editorTextFocus && vim.mode != 'Insert' && resourceExtname == .m"
    },
    // breakpoint remove
    {
        "key": "ctrl+m shift+b",
        "command": "workbench.action.terminal.sendSequence",
        "args": {
            "text": "dbclear in ${fileBasename} at ${lineNumber}\r",
        },
        "when": "!isMac && editorHasSelection && editorTextFocus && vim.mode != 'Insert' && resourceExtname == .m"
    },

    // clear screen
    {
        "key": "ctrl+m c",
        "command": "workbench.action.terminal.sendSequence",
        "args": {
            "text": "clc\r",
        },
        "when": "!isMac && editorTextFocus && vim.mode != 'Insert' && resourceExtname == .m"
    },

    // close all windows other than the main window
    {
        "key": "ctrl+m shift+c",
        "command": "workbench.action.terminal.sendSequence",
        "args": {
            "text": "close all\r",
        },
        "when": "!isMac && editorTextFocus && vim.mode != 'Insert' && resourceExtname == .m"
    },

    // get dimensions of variable under cursor
    {
        "key": "ctrl+m d",
        "command": "macros.matlabSendDimAndWordNormal",
        "when": "!isMac && editorTextFocus && vim.mode != 'Insert' && resourceExtname == .m"
    },
    // get dimensions of selected variable
    {
        "key": "ctrl+m d",
        "command": "macros.matlabSendDimAndWordVisual",
        "when": "!isMac && editorHasSelection && editorTextFocus && vim.mode != 'Insert' && resourceExtname == .m"
    },

    // get standard deviation of variable under cursor
    {
        "key": "ctrl+m shift+d",
        "command": "macros.matlabSendStddevAndWordNormal",
        "when": "!isMac && editorTextFocus && vim.mode != 'Insert' && resourceExtname == .m"
    },
    // get standard deviation of selected variable
    {
        "key": "ctrl+m shift+d",
        "command": "macros.matlabSendStddevAndWordVisual",
        "when": "!isMac && editorHasSelection && editorTextFocus && vim.mode != 'Insert' && resourceExtname == .m"
    },

    // edit file under cursor
    {
        "key": "ctrl+m e",
        "command": "macros.matlabSendEditAndWordNormal",
        "when": "!isMac && editorTextFocus && vim.mode != 'Insert' && resourceExtname == .m"
    },
    // edit selected file
    {
        "key": "ctrl+m e",
        "command": "macros.matlabSendEditAndWordVisual",
        "when": "!isMac && editorHasSelection && editorTextFocus && vim.mode != 'Insert' && resourceExtname == .m"
    },

    // breakpoint on error
    {
        "key": "ctrl+m shift+e",
        "command": "workbench.action.terminal.sendSequence",
        "args": {
            "text": "dbstop on error\r",
        },
        "when": "!isMac && editorTextFocus && vim.mode != 'Insert' && resourceExtname == .m"
    },
    // breakpoint on error
    {
        "key": "ctrl+m shift+e",
        "command": "workbench.action.terminal.sendSequence",
        "args": {
            "text": "dbstop on error\r",
        },
        "when": "!isMac && editorHasSelection && editorTextFocus && vim.mode != 'Insert' && resourceExtname == .m"
    },

    // get fieldnames of variable under cursor
    {
        "key": "ctrl+m f",
        "command": "macros.matlabSendFieldnamesAndWordNormal",
        "when": "!isMac && editorTextFocus && vim.mode != 'Insert' && resourceExtname == .m"
    },
    // get fieldnames of selected variable
    {
        "key": "ctrl+m f",
        "command": "macros.matlabSendFieldnamesAndWordVisual",
        "when": "!isMac && editorHasSelection && editorTextFocus && vim.mode != 'Insert' && resourceExtname == .m"
    },

    // check workspace gui
    {
        "key": "ctrl+m g",
        "command": "workbench.action.terminal.sendSequence",
        "args": {
            "text": "workspace\r",
        },
        "when": "!isMac && editorTextFocus && vim.mode != 'Insert' && resourceExtname == .m"
    },
    // check workspace gui
    {
        "key": "ctrl+m g",
        "command": "workbench.action.terminal.sendSequence",
        "args": {
            "text": "workspace\r",
        },
        "when": "!isMac && editorHasSelection && editorTextFocus && vim.mode != 'Insert' && resourceExtname == .m"
    },

    // get help of variable under cursor
    {
        "key": "ctrl+m h",
        "command": "macros.matlabSendHelpAndWordNormal",
        "when": "!isMac && editorTextFocus && vim.mode != 'Insert' && resourceExtname == .m"
    },
    // get help of selected variable
    {
        "key": "ctrl+m h",
        "command": "macros.matlabSendHelpAndWordVisual",
        "when": "!isMac && editorHasSelection && editorTextFocus && vim.mode != 'Insert' && resourceExtname == .m"
    },

    // get documentation of variable under cursor
    {
        "key": "ctrl+m shift+h",
        "command": "macros.matlabSendDocAndWordNormal",
        "when": "!isMac && editorTextFocus && vim.mode != 'Insert' && resourceExtname == .m"
    },
    // get documentation of selected variable
    {
        "key": "ctrl+m shift+h",
        "command": "macros.matlabSendDocAndWordVisual",
        "when": "!isMac && editorHasSelection && editorTextFocus && vim.mode != 'Insert' && resourceExtname == .m"
    },

    // conditional breakpoint set
    {
        "key": "ctrl+m i",
        "command": "workbench.action.terminal.sendSequence",
        "args": {
            "text": "dbstop in ${fileBasename} at ${lineNumber} if ",
        },
        "when": "!isMac && editorTextFocus && vim.mode != 'Insert' && resourceExtname == .m"
    },
    // conditional breakpoint set
    {
        "key": "ctrl+m i",
        "command": "workbench.action.terminal.sendSequence",
        "args": {
            "text": "dbstop in ${fileBasename} at ${lineNumber} if ",
        },
        "when": "!isMac && editorHasSelection && editorTextFocus && vim.mode != 'Insert' && resourceExtname == .m"
    },

    // global conditional breakpoint set
    {
        "key": "ctrl+m shift+i",
        "command": "workbench.action.terminal.sendSequence",
        "args": {
            "text": "dbstop if ",
        },
        "when": "!isMac && editorTextFocus && vim.mode != 'Insert' && resourceExtname == .m"
    },
    // global conditional breakpoint set
    {
        "key": "ctrl+m shift+i",
        "command": "workbench.action.terminal.sendSequence",
        "args": {
            "text": "dbstop if ",
        },
        "when": "!isMac && editorHasSelection && editorTextFocus && vim.mode != 'Insert' && resourceExtname == .m"
    },

    // open variable under cursor
    {
        "key": "ctrl+m j",
        "command": "macros.matlabSendOpenvarAndWordNormal",
        "when": "!isMac && editorTextFocus && vim.mode != 'Insert' && resourceExtname == .m"
    },
    // open selected variable
    {
        "key": "ctrl+m j",
        "command": "macros.matlabSendOpenvarAndWordVisual",
        "when": "!isMac && editorHasSelection && editorTextFocus && vim.mode != 'Insert' && resourceExtname == .m"
    },

    // breakpoint kill all
    {
        "key": "ctrl+m k",
        "command": "workbench.action.terminal.sendSequence",
        "args": {
            "text": "dbclear all\n",
        },
        "when": "!isMac && editorTextFocus && vim.mode != 'Insert' && resourceExtname == .m"
    },
    // breakpoint kill all
    {
        "key": "ctrl+m k",
        "command": "workbench.action.terminal.sendSequence",
        "args": {
            "text": "dbclear all\n",
        },
        "when": "!isMac && editorHasSelection && editorTextFocus && vim.mode != 'Insert' && resourceExtname == .m"
    },

    // debugging quit
    {
        "key": "ctrl+m shift+k",
        "command": "workbench.action.terminal.sendSequence",
        "args": {
            "text": "dbquit\n",
        },
        "when": "!isMac && editorTextFocus && vim.mode != 'Insert' && resourceExtname == .m"
    },
    // debugging quit
    {
        "key": "ctrl+m shift+k",
        "command": "workbench.action.terminal.sendSequence",
        "args": {
            "text": "dbquit\n",
        },
        "when": "!isMac && editorHasSelection && editorTextFocus && vim.mode != 'Insert' && resourceExtname == .m"
    },

    // get length of variable under cursor
    {
        "key": "ctrl+m l",
        "command": "macros.matlabSendLengthAndWordNormal",
        "when": "!isMac && editorTextFocus && vim.mode != 'Insert' && resourceExtname == .m"
    },
    // get length of selected variable
    {
        "key": "ctrl+m l",
        "command": "macros.matlabSendLengthAndWordVisual",
        "when": "!isMac && editorHasSelection && editorTextFocus && vim.mode != 'Insert' && resourceExtname == .m"
    },

    // get mean of variable under cursor
    {
        "key": "ctrl+m m",
        "command": "macros.matlabSendMeanAndWordNormal",
        "when": "!isMac && editorTextFocus && vim.mode != 'Insert' && resourceExtname == .m"
    },
    // get mean of selected variable
    {
        "key": "ctrl+m m",
        "command": "macros.matlabSendMeanAndWordVisual",
        "when": "!isMac && editorHasSelection && editorTextFocus && vim.mode != 'Insert' && resourceExtname == .m"
    },

    // get variance of variable under cursor
    {
        "key": "ctrl+m shift+m",
        "command": "macros.matlabSendVarianceAndWordNormal",
        "when": "!isMac && editorTextFocus && vim.mode != 'Insert' && resourceExtname == .m"
    },
    // get variance of selected variable
    {
        "key": "ctrl+m shift+m",
        "command": "macros.matlabSendVarianceAndWordVisual",
        "when": "!isMac && editorHasSelection && editorTextFocus && vim.mode != 'Insert' && resourceExtname == .m"
    },

    // get number of elements of variable under cursor
    {
        "key": "ctrl+m n",
        "command": "macros.matlabSendNumelAndWordNormal",
        "when": "!isMac && editorTextFocus && vim.mode != 'Insert' && resourceExtname == .m"
    },
    // get number of elements of selected variable
    {
        "key": "ctrl+m n",
        "command": "macros.matlabSendNumelAndWordVisual",
        "when": "!isMac && editorHasSelection && editorTextFocus && vim.mode != 'Insert' && resourceExtname == .m"
    },

    // plot of variable under cursor
    {
        "key": "ctrl+m p",
        "command": "macros.matlabSendPlotAndWordNormal",
        "when": "!isMac && editorTextFocus && vim.mode != 'Insert' && resourceExtname == .m"
    },
    // plot of selected variable
    {
        "key": "ctrl+m p",
        "command": "macros.matlabSendPlotAndWordVisual",
        "when": "!isMac && editorHasSelection && editorTextFocus && vim.mode != 'Insert' && resourceExtname == .m"
    },

    // mesh plot of variable under cursor
    {
        "key": "ctrl+m shift+p",
        "command": "macros.matlabSendMeshplotAndWordNormal",
        "when": "!isMac && editorTextFocus && vim.mode != 'Insert' && resourceExtname == .m"
    },
    // mesh plot of selected variable
    {
        "key": "ctrl+m shift+p",
        "command": "macros.matlabSendMeshplotAndWordVisual",
        "when": "!isMac && editorHasSelection && editorTextFocus && vim.mode != 'Insert' && resourceExtname == .m"
    },

    // run matlab in terminal
    {
        "key": "ctrl+m r",
        "command": "workbench.action.terminal.sendSequence",
        "args": {
            "text": "matlab -nodesktop -nosplash\r",
        },
        "when": "!isMac && editorTextFocus && vim.mode != 'Insert' && resourceExtname == .m"
    },

    // run matlab desktop
    {
        "key": "ctrl+m shift+r",
        "command": "workbench.action.terminal.sendSequence",
        "args": {
            "text": "matlab\r",
        },
        "when": "!isMac && editorTextFocus && vim.mode != 'Insert' && resourceExtname == .m"
    },

    // get sum of variable under cursor
    {
        "key": "ctrl+m s",
        "command": "macros.matlabSendSumAndWordNormal",
        "when": "!isMac && editorTextFocus && vim.mode != 'Insert' && resourceExtname == .m"
    },
    // get sum of selected variable
    {
        "key": "ctrl+m s",
        "command": "macros.matlabSendSumAndWordVisual",
        "when": "!isMac && editorHasSelection && editorTextFocus && vim.mode != 'Insert' && resourceExtname == .m"
    },

    // get cumulative sum of variable under cursor
    {
        "key": "ctrl+m shift+s",
        "command": "macros.matlabSendCumsumAndWordNormal",
        "when": "!isMac && editorTextFocus && vim.mode != 'Insert' && resourceExtname == .m"
    },
    // get cumulative sum of selected variable
    {
        "key": "ctrl+m shift+s",
        "command": "macros.matlabSendCumsumAndWordVisual",
        "when": "!isMac && editorHasSelection && editorTextFocus && vim.mode != 'Insert' && resourceExtname == .m"
    },

    // check workspace variable under cursor
    {
        "key": "ctrl+m w",
        "command": "macros.matlabSendWhosAndWordNormal",
        "when": "!isMac && editorTextFocus && vim.mode != 'Insert' && resourceExtname == .m"
    },
    // check selected workspace variable
    {
        "key": "ctrl+m w",
        "command": "macros.matlabSendWhosAndWordVisual",
        "when": "!isMac && editorHasSelection && editorTextFocus && vim.mode != 'Insert' && resourceExtname == .m"
    },

    // breakpoint on warning
    {
        "key": "ctrl+m shift+w",
        "command": "workbench.action.terminal.sendSequence",
        "args": {
            "text": "dbstop on warning\r",
        },
        "when": "!isMac && editorTextFocus && vim.mode != 'Insert' && resourceExtname == .m"
    },
    // breakpoint on warning
    {
        "key": "ctrl+m shift+w",
        "command": "workbench.action.terminal.sendSequence",
        "args": {
            "text": "dbstop on warning\r",
        },
        "when": "!isMac && editorHasSelection && editorTextFocus && vim.mode != 'Insert' && resourceExtname == .m"
    },

    // clear workspace
    {
        "key": "ctrl+m shift+x",
        "command": "workbench.action.terminal.sendSequence",
        "args": {
            "text": "clear all\r",
        },
        "when": "!isMac && editorTextFocus && vim.mode != 'Insert' && resourceExtname == .m"
    },

    // get size of variable under cursor
    {
        "key": "ctrl+m z",
        "command": "macros.matlabSendSizeAndWordNormal",
        "when": "!isMac && editorTextFocus && vim.mode != 'Insert' && resourceExtname == .m"
    },
    // get size of selected variable
    {
        "key": "ctrl+m z",
        "command": "macros.matlabSendSizeAndWordVisual",
        "when": "!isMac && editorHasSelection && editorTextFocus && vim.mode != 'Insert' && resourceExtname == .m"
    },

]
