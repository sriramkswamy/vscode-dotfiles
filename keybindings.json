// Place your key bindings in this file to overwrite the defaults
[
    //------------------//
    // VS Code commands //
    //------------------//

    // open link
    {
        "key": "ctrl+enter",
        "command": "editor.action.openLink",
        "when": "editorTextFocus && vim.mode != 'Insert'"
    },

    // navigate in quick open
    {
        "key": "ctrl+j",
        "command": "workbench.action.quickOpenSelectNext",
        "when": "inQuickOpen"
    },
    {
        "key": "ctrl+k",
        "command": "workbench.action.quickOpenSelectPrevious",
        "when": "inQuickOpen"
    },

    // suggestions keyboard navigation
    {
        "key": "ctrl+j",
        "command": "selectNextSuggestion",
        "when": "suggestWidgetMultipleSuggestions && suggestWidgetVisible && textInputFocus"
    },
    {
        "key": "ctrl+k",
        "command": "selectPrevSuggestion",
        "when": "suggestWidgetMultipleSuggestions && suggestWidgetVisible && textInputFocus"
    },

    // history keyboard navigation
    {
        "key": "ctrl+j",
        "command": "history.showNext",
        "when": "historyNavigationEnabled && historyNavigationWidget"
    },
    {
        "key": "ctrl+k",
        "command": "history.showPrevious",
        "when": "historyNavigationEnabled && historyNavigationWidget"
    },

    // list keyboard navigation
    {
        "key": "ctrl+j",
        "command": "list.focusDown",
        "when": "listFocus"
    },
    {
        "key": "ctrl+k",
        "command": "list.focusUp",
        "when": "listFocus"
    },

    // breadcrumbs navigation
    {
        "key": "ctrl+j",
        "command": "breadcrumbs.focusNext",
        "when": "breadcrumbsActive && breadcrumbsVisible && !inQuickpen"
    },
    {
        "key": "ctrl+k",
        "command": "breadcrumbs.focusPrevious",
        "when": "breadcrumbsActive && breadcrumbsVisible && !inQuickpen"
    },

    // notifications navigation
    {
        "key": "ctrl+j",
        "command": "notifications.focusNextToast",
        "when": "notificationFocus && notificationToastsVisible"
    },
    {
        "key": "ctrl+k",
        "command": "notifications.focusPreviousToast",
        "when": "notificationFocus && notificationToastsVisible"
    },

    // parameter hints keyboard navigation
    {
        "key": "ctrl+j",
        "command": "showNextParameterHint",
        "when": "editorFocus && parameterHintsMultipleSignatures && parameterHintsVisible && !inQuickOpen"
    },
    {
        "key": "ctrl+k",
        "command": "showPrevParameterHint",
        "when": "editorFocus && parameterHintsMultipleSignatures && parameterHintsVisible && !inQuickOpen"
    },

    // autocompletion navigation
    {
        "key": "ctrl+j",
        "command": "acceptSelectedSuggestion",
        "when": "suggestWidgetVisible && textInputFocus && !inQuickOpen"
    },
    {
        "key": "ctrl+j",
        "command": "insertBestCompletion",
        "when": "atEndOfWord && !hasOtherSuggestions && !inQuickOpen && !suggestWidgetVisible && config.editor.tabCompletion == 'on'"
    },
    {
        "key": "ctrl+j",
        "command": "insertNextSuggestion",
        "when": "hasOtherSuggestions && textInputFocus && !inQuickOpen && !suggestWidgetVisible && config.editor.tabCompletion == 'on'"
    },
    {
        "key": "ctrl+k",
        "command": "insertPrevSuggestion",
        "when": "hasOtherSuggestions && textInputFocus && !inQuickOpen && !suggestWidgetVisible && config.editor.tabCompletion == 'on'"
    },

    // terminal keyboard navigation
    {
        "key": "ctrl+w",
        "command": "workbench.action.terminal.deleteWordLeft",
        "when": "terminalFocus"
    },
    {
        "key": "ctrl+p",
        "command": "cursorUp",
        "when": "terminalFocus"
    },
    {
        "key": "ctrl+f",
        "command": "cursorRight",
        "when": "terminalFocus"
    },

    // navigate
    // {
    //     "key": "ctrl+j",
    //     "command": "workbench.action.navigateEditorGroups",
    //     "when": "editorFocus && !inQuickOpen"
    // },
    // {
    //     "key": "ctrl+j",
    //     "command": "workbench.action.focusLastEditorGroup",
    //     "when": "!editorFocus && !inQuickOpen"
    // },
    {
        "key": "ctrl+tab",
        "command": "workbench.action.navigateEditorGroups",
        "when": "editorFocus"
    },
    {
        "key": "ctrl+tab",
        "command": "workbench.action.focusLastEditorGroup",
        "when": "!editorFocus"
    },
    {
        "key": "ctrl+shift+tab",
        "command": "workbench.action.navigateEditorGroups",
        "when": "editorFocus"
    },
    {
        "key": "ctrl+shift+tab",
        "command": "workbench.action.focusLastEditorGroup",
        "when": "!editorFocus"
    },

    // vim
    {
        "key": "ctrl+a",
        "command": "cursorHome",
        "when": "editorTextFocus && vim.mode == 'Insert'"
    },
    {
        "key": "ctrl+b",
        "command": "cursorLeft",
        "when": "editorTextFocus && vim.mode == 'Insert'"
    },
    {
        "key": "ctrl+d",
        "command": "editor.action.triggerSuggest",
        "when": "editorTextFocus && !editorReadonly && vim.mode == 'Insert'"
    },
    {
        "key": "ctrl+e",
        "command": "cursorEnd",
        "when": "editorTextFocus && vim.mode == 'Insert'"
    },
    {
        "key": "ctrl+f",
        "command": "cursorRight",
        "when": "editorTextFocus && vim.mode == 'Insert'"
    },
    {
        "key": "ctrl+o",
        "command": "editor.action.triggerParameterHints",
        "when": "editorTextFocus && !editorReadonly && vim.mode == 'Insert'"
    },

    // commands
    {
        "key": "ctrl+e",
        "command": "workbench.action.openRecent",
        "when": "isLinux"
    },
    {
        "key": "ctrl+g",
        "command": "-workbench.action.gotoLine",
        "when": "isLinux"
    },
    {
        "key": "ctrl+g",
        "command": "workbench.view.scm",
        "when": "isLinux && editorTextFocus && !isInDiffEditor"
    },
    // {
    //     "key": "ctrl+p",
    //     "command": "workbench.action.showCommands",
    //     "when": "isLinux"
    // },

    // panels
    {
        "key": "ctrl+l",
        "command": "workbench.action.togglePanel",
        "when": "isLinux"
    },
    {
        "key": "ctrl+i",
        "command": "workbench.action.toggleMaximizedPanel",
        "when": "isLinux"
    },
    {
        "key": "ctrl+t",
        "command": "workbench.action.toggleSidebarVisibility",
        "when": "isLinux"
    },

    //-------------------//
    // Terminal commands //
    //-------------------//

    // common //

    // run active file
    {
        "key": "ctrl+m shift+m",
        "command": "workbench.action.terminal.runActiveFile",
        "when": "isLinux && editorTextFocus && vim.mode != 'Insert'"
    },

    // send ctrl-c
    {
        "key": "ctrl+m x",
        "command": "workbench.action.terminal.sendSequence",
        "args": {
            "text": "\u0003",
        },
        "when": "isLinux && editorTextFocus && vim.mode != 'Insert'"
    },

    // list all files
    {
        "key": "ctrl+m l",
        "command": "workbench.action.terminal.sendSequence",
        "args": {
            "text": "ls\r",
        },
        "when": "isLinux && editorTextFocus && vim.mode != 'Insert'"
    },

    // matlab macros //

    // run current file
    {
        "key": "ctrl+m ctrl+m",
        "command": "macros.matlabRunCurrentFile",
        "when": "isLinux && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // add path of variable under cursor
    {
        "key": "ctrl+m a",
        "command": "macros.matlabSendAddpathAndWordNormal",
        "when": "isLinux && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // add path of selected variable
    {
        "key": "ctrl+m a",
        "command": "macros.matlabSendAddpathAndWordVisual",
        "when": "isLinux && editorHasSelection && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // add general path of variable under cursor
    {
        "key": "ctrl+m shift+a",
        "command": "macros.matlabSendGenpathAndWordNormal",
        "when": "isLinux && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // add general path of selected variable
    {
        "key": "ctrl+m shift+a",
        "command": "macros.matlabSendGenpathAndWordVisual",
        "when": "isLinux && editorHasSelection && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // breakpoint set
    {
        "key": "ctrl+m b",
        "command": "workbench.action.terminal.sendSequence",
        "args": {
            "text": "dbstop in ${fileBasename} at ${lineNumber}\r",
        },
        "when": "isLinux && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // breakpoint set
    {
        "key": "ctrl+m b",
        "command": "workbench.action.terminal.sendSequence",
        "args": {
            "text": "dbstop in ${fileBasename} at ${lineNumber}\r",
        },
        "when": "isLinux && editorHasSelection && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // breakpoint remove
    {
        "key": "ctrl+m shift+b",
        "command": "workbench.action.terminal.sendSequence",
        "args": {
            "text": "dbclear in ${fileBasename} at ${lineNumber}\r",
        },
        "when": "isLinux && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // breakpoint remove
    {
        "key": "ctrl+m shift+b",
        "command": "workbench.action.terminal.sendSequence",
        "args": {
            "text": "dbclear in ${fileBasename} at ${lineNumber}\r",
        },
        "when": "isLinux && editorHasSelection && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // clear screen
    {
        "key": "ctrl+m c",
        "command": "workbench.action.terminal.sendSequence",
        "args": {
            "text": "clc\r",
        },
        "when": "isLinux && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // close all windows other than the main window
    {
        "key": "ctrl+m shift+c",
        "command": "workbench.action.terminal.sendSequence",
        "args": {
            "text": "close all\r",
        },
        "when": "isLinux && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // get dimensions of variable under cursor
    {
        "key": "ctrl+m d",
        "command": "macros.matlabSendDimAndWordNormal",
        "when": "isLinux && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // get dimensions of selected variable
    {
        "key": "ctrl+m d",
        "command": "macros.matlabSendDimAndWordVisual",
        "when": "isLinux && editorHasSelection && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // get standard deviation of variable under cursor
    {
        "key": "ctrl+m shift+d",
        "command": "macros.matlabSendStddevAndWordNormal",
        "when": "isLinux && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // get standard deviation of selected variable
    {
        "key": "ctrl+m shift+d",
        "command": "macros.matlabSendStddevAndWordVisual",
        "when": "isLinux && editorHasSelection && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // edit file under cursor
    {
        "key": "ctrl+m e",
        "command": "macros.matlabSendEditAndWordNormal",
        "when": "isLinux && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // edit selected file
    {
        "key": "ctrl+m e",
        "command": "macros.matlabSendEditAndWordVisual",
        "when": "isLinux && editorHasSelection && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // breakpoint on error
    {
        "key": "ctrl+m shift+e",
        "command": "workbench.action.terminal.sendSequence",
        "args": {
            "text": "dbstop on error\r",
        },
        "when": "isLinux && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // breakpoint on error
    {
        "key": "ctrl+m shift+e",
        "command": "workbench.action.terminal.sendSequence",
        "args": {
            "text": "dbstop on error\r",
        },
        "when": "isLinux && editorHasSelection && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // get fieldnames of variable under cursor
    {
        "key": "ctrl+m f",
        "command": "macros.matlabSendFieldnamesAndWordNormal",
        "when": "isLinux && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // get fieldnames of selected variable
    {
        "key": "ctrl+m f",
        "command": "macros.matlabSendFieldnamesAndWordVisual",
        "when": "isLinux && editorHasSelection && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // check workspace gui
    {
        "key": "ctrl+m g",
        "command": "workbench.action.terminal.sendSequence",
        "args": {
            "text": "workspace\r",
        },
        "when": "isLinux && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // check workspace gui
    {
        "key": "ctrl+m g",
        "command": "workbench.action.terminal.sendSequence",
        "args": {
            "text": "workspace\r",
        },
        "when": "isLinux && editorHasSelection && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // get help of variable under cursor
    {
        "key": "ctrl+m h",
        "command": "macros.matlabSendHelpAndWordNormal",
        "when": "isLinux && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // get help of selected variable
    {
        "key": "ctrl+m h",
        "command": "macros.matlabSendHelpAndWordVisual",
        "when": "isLinux && editorHasSelection && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // get documentation of variable under cursor
    {
        "key": "ctrl+m shift+h",
        "command": "macros.matlabSendDocAndWordNormal",
        "when": "isLinux && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // get documentation of selected variable
    {
        "key": "ctrl+m shift+h",
        "command": "macros.matlabSendDocAndWordVisual",
        "when": "isLinux && editorHasSelection && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // conditional breakpoint set
    {
        "key": "ctrl+m i",
        "command": "workbench.action.terminal.sendSequence",
        "args": {
            "text": "dbstop in ${fileBasename} at ${lineNumber} if ",
        },
        "when": "isLinux && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // conditional breakpoint set
    {
        "key": "ctrl+m i",
        "command": "workbench.action.terminal.sendSequence",
        "args": {
            "text": "dbstop in ${fileBasename} at ${lineNumber} if ",
        },
        "when": "isLinux && editorHasSelection && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // global conditional breakpoint set
    {
        "key": "ctrl+m shift+i",
        "command": "workbench.action.terminal.sendSequence",
        "args": {
            "text": "dbstop if ",
        },
        "when": "isLinux && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // global conditional breakpoint set
    {
        "key": "ctrl+m shift+i",
        "command": "workbench.action.terminal.sendSequence",
        "args": {
            "text": "dbstop if ",
        },
        "when": "isLinux && editorHasSelection && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // open variable under cursor
    {
        "key": "ctrl+m j",
        "command": "macros.matlabSendOpenvarAndWordNormal",
        "when": "isLinux && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // open selected variable
    {
        "key": "ctrl+m j",
        "command": "macros.matlabSendOpenvarAndWordVisual",
        "when": "isLinux && editorHasSelection && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // breakpoint kill all
    {
        "key": "ctrl+m k",
        "command": "workbench.action.terminal.sendSequence",
        "args": {
            "text": "dbclear all\n",
        },
        "when": "isLinux && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // breakpoint kill all
    {
        "key": "ctrl+m k",
        "command": "workbench.action.terminal.sendSequence",
        "args": {
            "text": "dbclear all\n",
        },
        "when": "isLinux && editorHasSelection && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // debugging quit
    {
        "key": "ctrl+m shift+k",
        "command": "workbench.action.terminal.sendSequence",
        "args": {
            "text": "dbquit\n",
        },
        "when": "isLinux && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // debugging quit
    {
        "key": "ctrl+m shift+k",
        "command": "workbench.action.terminal.sendSequence",
        "args": {
            "text": "dbquit\n",
        },
        "when": "isLinux && editorHasSelection && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // get length of variable under cursor
    {
        "key": "ctrl+m l",
        "command": "macros.matlabSendLengthAndWordNormal",
        "when": "isLinux && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // get length of selected variable
    {
        "key": "ctrl+m l",
        "command": "macros.matlabSendLengthAndWordVisual",
        "when": "isLinux && editorHasSelection && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // get mean of variable under cursor
    {
        "key": "ctrl+m m",
        "command": "macros.matlabSendMeanAndWordNormal",
        "when": "isLinux && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // get mean of selected variable
    {
        "key": "ctrl+m m",
        "command": "macros.matlabSendMeanAndWordVisual",
        "when": "isLinux && editorHasSelection && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // get variance of variable under cursor
    {
        "key": "ctrl+m shift+m",
        "command": "macros.matlabSendVarianceAndWordNormal",
        "when": "isLinux && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // get variance of selected variable
    {
        "key": "ctrl+m shift+m",
        "command": "macros.matlabSendVarianceAndWordVisual",
        "when": "isLinux && editorHasSelection && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // get number of elements of variable under cursor
    {
        "key": "ctrl+m n",
        "command": "macros.matlabSendNumelAndWordNormal",
        "when": "isLinux && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // get number of elements of selected variable
    {
        "key": "ctrl+m n",
        "command": "macros.matlabSendNumelAndWordVisual",
        "when": "isLinux && editorHasSelection && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // plot of variable under cursor
    {
        "key": "ctrl+m p",
        "command": "macros.matlabSendPlotAndWordNormal",
        "when": "isLinux && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // plot of selected variable
    {
        "key": "ctrl+m p",
        "command": "macros.matlabSendPlotAndWordVisual",
        "when": "isLinux && editorHasSelection && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // mesh plot of variable under cursor
    {
        "key": "ctrl+m shift+p",
        "command": "macros.matlabSendMeshplotAndWordNormal",
        "when": "isLinux && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // mesh plot of selected variable
    {
        "key": "ctrl+m shift+p",
        "command": "macros.matlabSendMeshplotAndWordVisual",
        "when": "isLinux && editorHasSelection && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // run matlab in terminal
    {
        "key": "ctrl+m r",
        "command": "workbench.action.terminal.sendSequence",
        "args": {
            "text": "matlab -nodesktop -nosplash\r",
        },
        "when": "isLinux && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // run matlab desktop
    {
        "key": "ctrl+m shift+r",
        "command": "workbench.action.terminal.sendSequence",
        "args": {
            "text": "matlab\r",
        },
        "when": "isLinux && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // get sum of variable under cursor
    {
        "key": "ctrl+m s",
        "command": "macros.matlabSendSumAndWordNormal",
        "when": "isLinux && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // get sum of selected variable
    {
        "key": "ctrl+m s",
        "command": "macros.matlabSendSumAndWordVisual",
        "when": "isLinux && editorHasSelection && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // get cumulative sum of variable under cursor
    {
        "key": "ctrl+m shift+s",
        "command": "macros.matlabSendCumsumAndWordNormal",
        "when": "isLinux && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // get cumulative sum of selected variable
    {
        "key": "ctrl+m shift+s",
        "command": "macros.matlabSendCumsumAndWordVisual",
        "when": "isLinux && editorHasSelection && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // check workspace variable under cursor
    {
        "key": "ctrl+m w",
        "command": "macros.matlabSendWhosAndWordNormal",
        "when": "isLinux && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // check selected workspace variable
    {
        "key": "ctrl+m w",
        "command": "macros.matlabSendWhosAndWordVisual",
        "when": "isLinux && editorHasSelection && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // breakpoint on warning
    {
        "key": "ctrl+m shift+w",
        "command": "workbench.action.terminal.sendSequence",
        "args": {
            "text": "dbstop on warning\r",
        },
        "when": "isLinux && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // breakpoint on warning
    {
        "key": "ctrl+m shift+w",
        "command": "workbench.action.terminal.sendSequence",
        "args": {
            "text": "dbstop on warning\r",
        },
        "when": "isLinux && editorHasSelection && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // clear workspace
    {
        "key": "ctrl+m shift+x",
        "command": "workbench.action.terminal.sendSequence",
        "args": {
            "text": "clear all\r",
        },
        "when": "isLinux && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // get size of variable under cursor
    {
        "key": "ctrl+m z",
        "command": "macros.matlabSendSizeAndWordNormal",
        "when": "isLinux && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // get size of selected variable
    {
        "key": "ctrl+m z",
        "command": "macros.matlabSendSizeAndWordVisual",
        "when": "isLinux && editorHasSelection && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // R macros

    // run the source
    {
        "key": "ctrl+m ctrl+m",
        "command": "r.runSource",
        "when": "isLinux && editorTextFocus && vim.mode != 'Insert' && editorLangId == 'r'"
    },

    // Mac Specific Bindings //

    // commands
    {
        "key": "cmd+e",
        "command": "workbench.action.openRecent",
        "when": "isMac"
    },
    {
        "key": "cmd+g",
        "command": "-workbench.action.gotoLine",
        "when": "isMac"
    },
    {
        "key": "cmd+g",
        "command": "gitlens.diffWithPrevious",
        "when": "isMac && editorTextFocus && !isInDiffEditor"
    },
    // {
    //     "key": "cmd+j",
    //     "command": "workbench.action.quickOpen",
    //     "when": "isMac"
    // },
    // {
    //     "key": "cmd+p",
    //     "command": "workbench.action.showCommands",
    //     "when": "isMac"
    // },

    // panels
    {
        "key": "cmd+l",
        "command": "workbench.action.togglePanel",
        "when": "isMac"
    },
    {
        "key": "cmd+i",
        "command": "workbench.action.toggleMaximizedPanel",
        "when": "isMac"
    },
    {
        "key": "cmd+t",
        "command": "workbench.action.toggleSidebarVisibility",
        "when": "isMac"
    },

    //-------------------//
    // Terminal commands //
    //-------------------//

    // common //

    // send ctrl-c
    {
        "key": "cmd+m x",
        "command": "workbench.action.terminal.sendSequence",
        "args": {
            "text": "\u0003",
        },
        "when": "isMac && editorTextFocus && vim.mode != 'Insert'"
    },

    // list all files
    {
        "key": "cmd+m l",
        "command": "workbench.action.terminal.sendSequence",
        "args": {
            "text": "ls\r",
        },
        "when": "isMac && editorTextFocus && vim.mode != 'Insert'"
    },

    // matlab macros //

    // add path of variable under cursor
    {
        "key": "cmd+m a",
        "command": "macros.matlabSendAddpathAndWordNormal",
        "when": "isMac && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // add path of selected variable
    {
        "key": "cmd+m a",
        "command": "macros.matlabSendAddpathAndWordVisual",
        "when": "isMac && editorHasSelection && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // add general path of variable under cursor
    {
        "key": "cmd+m shift+a",
        "command": "macros.matlabSendGenpathAndWordNormal",
        "when": "isMac && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // add general path of selected variable
    {
        "key": "cmd+m shift+a",
        "command": "macros.matlabSendGenpathAndWordVisual",
        "when": "isMac && editorHasSelection && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // breakpoint set
    {
        "key": "cmd+m b",
        "command": "workbench.action.terminal.sendSequence",
        "args": {
            "text": "dbstop in ${fileBasename} at ${lineNumber}\r",
        },
        "when": "isMac && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // breakpoint set
    {
        "key": "cmd+m b",
        "command": "workbench.action.terminal.sendSequence",
        "args": {
            "text": "dbstop in ${fileBasename} at ${lineNumber}\r",
        },
        "when": "isMac && editorHasSelection && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // breakpoint remove
    {
        "key": "cmd+m shift+b",
        "command": "workbench.action.terminal.sendSequence",
        "args": {
            "text": "dbclear in ${fileBasename} at ${lineNumber}\r",
        },
        "when": "isMac && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // breakpoint remove
    {
        "key": "cmd+m shift+b",
        "command": "workbench.action.terminal.sendSequence",
        "args": {
            "text": "dbclear in ${fileBasename} at ${lineNumber}\r",
        },
        "when": "isMac && editorHasSelection && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // clear screen
    {
        "key": "cmd+m c",
        "command": "workbench.action.terminal.sendSequence",
        "args": {
            "text": "clc\r",
        },
        "when": "isMac && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // close all windows other than the main window
    {
        "key": "cmd+m shift+c",
        "command": "workbench.action.terminal.sendSequence",
        "args": {
            "text": "close all\r",
        },
        "when": "isMac && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // get dimensions of variable under cursor
    {
        "key": "cmd+m d",
        "command": "macros.matlabSendDimAndWordNormal",
        "when": "isMac && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // get dimensions of selected variable
    {
        "key": "cmd+m d",
        "command": "macros.matlabSendDimAndWordVisual",
        "when": "isMac && editorHasSelection && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // get standard deviation of variable under cursor
    {
        "key": "cmd+m shift+d",
        "command": "macros.matlabSendStddevAndWordNormal",
        "when": "isMac && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // get standard deviation of selected variable
    {
        "key": "cmd+m shift+d",
        "command": "macros.matlabSendStddevAndWordVisual",
        "when": "isMac && editorHasSelection && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // edit file under cursor
    {
        "key": "cmd+m e",
        "command": "macros.matlabSendEditAndWordNormal",
        "when": "isMac && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // edit selected file
    {
        "key": "cmd+m e",
        "command": "macros.matlabSendEditAndWordVisual",
        "when": "isMac && editorHasSelection && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // breakpoint on error
    {
        "key": "cmd+m shift+e",
        "command": "workbench.action.terminal.sendSequence",
        "args": {
            "text": "dbstop on error\r",
        },
        "when": "isMac && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // breakpoint on error
    {
        "key": "cmd+m shift+e",
        "command": "workbench.action.terminal.sendSequence",
        "args": {
            "text": "dbstop on error\r",
        },
        "when": "isMac && editorHasSelection && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // get fieldnames of variable under cursor
    {
        "key": "cmd+m f",
        "command": "macros.matlabSendFieldnamesAndWordNormal",
        "when": "isMac && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // get fieldnames of selected variable
    {
        "key": "cmd+m f",
        "command": "macros.matlabSendFieldnamesAndWordVisual",
        "when": "isMac && editorHasSelection && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // check workspace gui
    {
        "key": "cmd+m g",
        "command": "workbench.action.terminal.sendSequence",
        "args": {
            "text": "workspace\r",
        },
        "when": "isMac && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // check workspace gui
    {
        "key": "cmd+m g",
        "command": "workbench.action.terminal.sendSequence",
        "args": {
            "text": "workspace\r",
        },
        "when": "isMac && editorHasSelection && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // get help of variable under cursor
    {
        "key": "cmd+m h",
        "command": "macros.matlabSendHelpAndWordNormal",
        "when": "isMac && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // get help of selected variable
    {
        "key": "cmd+m h",
        "command": "macros.matlabSendHelpAndWordVisual",
        "when": "isMac && editorHasSelection && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // get documentation of variable under cursor
    {
        "key": "cmd+m shift+h",
        "command": "macros.matlabSendDocAndWordNormal",
        "when": "isMac && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // get documentation of selected variable
    {
        "key": "cmd+m shift+h",
        "command": "macros.matlabSendDocAndWordVisual",
        "when": "isMac && editorHasSelection && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // conditional breakpoint set
    {
        "key": "cmd+m i",
        "command": "workbench.action.terminal.sendSequence",
        "args": {
            "text": "dbstop in ${fileBasename} at ${lineNumber} if ",
        },
        "when": "isMac && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // conditional breakpoint set
    {
        "key": "cmd+m i",
        "command": "workbench.action.terminal.sendSequence",
        "args": {
            "text": "dbstop in ${fileBasename} at ${lineNumber} if ",
        },
        "when": "isMac && editorHasSelection && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // global conditional breakpoint set
    {
        "key": "cmd+m shift+i",
        "command": "workbench.action.terminal.sendSequence",
        "args": {
            "text": "dbstop if ",
        },
        "when": "isMac && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // global conditional breakpoint set
    {
        "key": "cmd+m shift+i",
        "command": "workbench.action.terminal.sendSequence",
        "args": {
            "text": "dbstop if ",
        },
        "when": "isMac && editorHasSelection && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // open variable under cursor
    {
        "key": "cmd+m j",
        "command": "macros.matlabSendOpenvarAndWordNormal",
        "when": "isMac && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // open selected variable
    {
        "key": "cmd+m j",
        "command": "macros.matlabSendOpenvarAndWordVisual",
        "when": "isMac && editorHasSelection && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // breakpoint kill all
    {
        "key": "cmd+m k",
        "command": "workbench.action.terminal.sendSequence",
        "args": {
            "text": "dbclear all\n",
        },
        "when": "isMac && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // breakpoint kill all
    {
        "key": "cmd+m k",
        "command": "workbench.action.terminal.sendSequence",
        "args": {
            "text": "dbclear all\n",
        },
        "when": "isMac && editorHasSelection && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // debugging quit
    {
        "key": "cmd+m shift+k",
        "command": "workbench.action.terminal.sendSequence",
        "args": {
            "text": "dbquit\n",
        },
        "when": "isMac && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // debugging quit
    {
        "key": "cmd+m shift+k",
        "command": "workbench.action.terminal.sendSequence",
        "args": {
            "text": "dbquit\n",
        },
        "when": "isMac && editorHasSelection && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // get length of variable under cursor
    {
        "key": "cmd+m l",
        "command": "macros.matlabSendLengthAndWordNormal",
        "when": "isMac && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // get length of selected variable
    {
        "key": "cmd+m l",
        "command": "macros.matlabSendLengthAndWordVisual",
        "when": "isMac && editorHasSelection && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // get mean of variable under cursor
    {
        "key": "cmd+m m",
        "command": "macros.matlabSendMeanAndWordNormal",
        "when": "isMac && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // get mean of selected variable
    {
        "key": "cmd+m m",
        "command": "macros.matlabSendMeanAndWordVisual",
        "when": "isMac && editorHasSelection && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // get variance of variable under cursor
    {
        "key": "cmd+m shift+m",
        "command": "macros.matlabSendVarianceAndWordNormal",
        "when": "isMac && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // get variance of selected variable
    {
        "key": "cmd+m shift+m",
        "command": "macros.matlabSendVarianceAndWordVisual",
        "when": "isMac && editorHasSelection && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // get number of elements of variable under cursor
    {
        "key": "cmd+m n",
        "command": "macros.matlabSendNumelAndWordNormal",
        "when": "isMac && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // get number of elements of selected variable
    {
        "key": "cmd+m n",
        "command": "macros.matlabSendNumelAndWordVisual",
        "when": "isMac && editorHasSelection && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // plot of variable under cursor
    {
        "key": "cmd+m p",
        "command": "macros.matlabSendPlotAndWordNormal",
        "when": "isMac && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // plot of selected variable
    {
        "key": "cmd+m p",
        "command": "macros.matlabSendPlotAndWordVisual",
        "when": "isMac && editorHasSelection && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // mesh plot of variable under cursor
    {
        "key": "cmd+m shift+p",
        "command": "macros.matlabSendMeshplotAndWordNormal",
        "when": "isMac && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // mesh plot of selected variable
    {
        "key": "cmd+m shift+p",
        "command": "macros.matlabSendMeshplotAndWordVisual",
        "when": "isMac && editorHasSelection && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // run matlab in terminal
    {
        "key": "cmd+m r",
        "command": "workbench.action.terminal.sendSequence",
        "args": {
            "text": "matlab -nodesktop -nosplash\r",
        },
        "when": "isMac && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // run matlab desktop
    {
        "key": "cmd+m shift+r",
        "command": "workbench.action.terminal.sendSequence",
        "args": {
            "text": "matlab\r",
        },
        "when": "isMac && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // get sum of variable under cursor
    {
        "key": "cmd+m s",
        "command": "macros.matlabSendSumAndWordNormal",
        "when": "isMac && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // get sum of selected variable
    {
        "key": "cmd+m s",
        "command": "macros.matlabSendSumAndWordVisual",
        "when": "isMac && editorHasSelection && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // get cumulative sum of variable under cursor
    {
        "key": "cmd+m shift+s",
        "command": "macros.matlabSendCumsumAndWordNormal",
        "when": "isMac && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // get cumulative sum of selected variable
    {
        "key": "cmd+m shift+s",
        "command": "macros.matlabSendCumsumAndWordVisual",
        "when": "isMac && editorHasSelection && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // check workspace variable under cursor
    {
        "key": "cmd+m w",
        "command": "macros.matlabSendWhosAndWordNormal",
        "when": "isMac && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // check selected workspace variable
    {
        "key": "cmd+m w",
        "command": "macros.matlabSendWhosAndWordVisual",
        "when": "isMac && editorHasSelection && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // breakpoint on warning
    {
        "key": "cmd+m shift+w",
        "command": "workbench.action.terminal.sendSequence",
        "args": {
            "text": "dbstop on warning\r",
        },
        "when": "isMac && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // breakpoint on warning
    {
        "key": "cmd+m shift+w",
        "command": "workbench.action.terminal.sendSequence",
        "args": {
            "text": "dbstop on warning\r",
        },
        "when": "isMac && editorHasSelection && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // clear workspace
    {
        "key": "cmd+m shift+x",
        "command": "workbench.action.terminal.sendSequence",
        "args": {
            "text": "clear all\r",
        },
        "when": "isMac && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // get size of variable under cursor
    {
        "key": "cmd+m z",
        "command": "macros.matlabSendSizeAndWordNormal",
        "when": "isMac && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

    // get size of selected variable
    {
        "key": "cmd+m z",
        "command": "macros.matlabSendSizeAndWordVisual",
        "when": "isMac && editorHasSelection && editorTextFocus && vim.mode != 'Insert' && editorLangId == matlab"
    },

]
